{% schema %}
{
  "name": "Hero Slider",
  "settings": [
    {
      "type": "image_picker",
      "id": "slide_1",
      "label": "Slide 1 Image"
    },
    {
      "type": "text",
      "id": "slide_1_heading",
      "label": "Slide 1 Heading",
      "default": "Welcome to Our Store"
    },
    {
      "type": "text",
      "id": "slide_1_subtext",
      "label": "Slide 1 Subtext",
      "default": "Discover amazing products here!"
    },
    {
      "type": "image_picker",
      "id": "slide_2",
      "label": "Slide 2 Image"
    },
    {
      "type": "text",
      "id": "slide_2_heading",
      "label": "Slide 2 Heading",
      "default": "Limited Time Offer"
    },
    {
      "type": "text",
      "id": "slide_2_subtext",
      "label": "Slide 2 Subtext",
      "default": "Get the best deals today!"
    }
  ],
  "presets": [
    {
      "name": "Hero Slider"
    }
  ]
}
{% endschema %}

<section class="relative w-full overflow-hidden">
  <div class="flex transition-transform duration-700 ease-in-out" id="slider">
    <div class="w-full flex-none" id="slide1">
      <div
        class="relative w-full h-screen flex items-center justify-center bg-cover bg-center"
        style="background-image: url('{{ section.settings.slide_1 | img_url: '1920x1080' }}');"
      >
        <div class="text-center text-white bg-black bg-opacity-50 p-6 rounded-lg">
          <h2 class="text-4xl font-bold">{{ section.settings.slide_1_heading }}</h2>
          <p class="text-lg mt-2">{{ section.settings.slide_1_subtext }}</p>
        </div>
      </div>
    </div>
    <div class="w-full flex-none" id="slide2">
      <div
        class="relative w-full h-screen flex items-center justify-center bg-cover bg-center"
        style="background-image: url('{{ section.settings.slide_2 | img_url: '1920x1080' }}');"
      >
        <div class="text-center text-white bg-black bg-opacity-50 p-6 rounded-lg">
          <h2 class="text-4xl font-bold">{{ section.settings.slide_2_heading }}</h2>
          <p class="text-lg mt-2">{{ section.settings.slide_2_subtext }}</p>
        </div>
      </div>
    </div>
  </div>

  <button
    class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full"
    onclick="prevSlide()"
  >
    ❮
  </button>
  <button
    class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-3 rounded-full"
    onclick="nextSlide()"
  >
    ❯
  </button>
</section>

<script>
  let currentIndex = 0;
  const slides = document.querySelectorAll('#slider > div');
  function updateSlider() {
    document.querySelector('#slider').style.transform = `translateX(-${currentIndex * 100}%)`;
  }
  function prevSlide() {
    currentIndex = currentIndex === 0 ? slides.length - 1 : currentIndex - 1;
    updateSlider();
  }
  function nextSlide() {
    currentIndex = currentIndex === slides.length - 1 ? 0 : currentIndex + 1;
    updateSlider();
  }
</script>
