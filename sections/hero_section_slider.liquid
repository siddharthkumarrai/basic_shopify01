{% schema %}
{
  "name": "Hero Section",
  "settings": [
    {
      "type": "image_picker",
      "id": "slide_1",
      "label": "Slide 1 Image"
    },
    {
      "type": "text",
      "id": "slide_1_text",
      "label": "Slide 1 Text",
      "default": "Discover Your Style"
    },
    {
      "type": "image_picker",
      "id": "slide_2",
      "label": "Slide 2 Image"
    },
    {
      "type": "text",
      "id": "slide_2_text",
      "label": "Slide 2 Text",
      "default": "Latest Trends for You"
    },
    {
      "type": "image_picker",
      "id": "slide_3",
      "label": "Slide 3 Image"
    },
    {
      "type": "text",
      "id": "slide_3_text",
      "label": "Slide 3 Text",
      "default": "Shop Now"
    }
  ],
  "presets": [
    {
      "name": "Hero Section",
      "category": "Image"
    }
  ]
}
{% endschema %}

<div class="hero-slider">
  <div class="slide" style="background-image: url({{ section.settings.slide_1 | image_url: 'master' }});">
    <h2>{{ section.settings.slide_1_text }}</h2>
  </div>
  <div class="slide" style="background-image: url({{ section.settings.slide_2 | image_url: 'master' }});">
    <h2>{{ section.settings.slide_2_text }}</h2>
  </div>
  <div class="slide" style="background-image: url({{ section.settings.slide_3 | image_url: 'master' }});">
    <h2>{{ section.settings.slide_3_text }}</h2>
  </div>
</div>

<style>
  .hero-slider {
    width: 100%;
    height: 500px;
    position: relative;
    overflow: hidden;
  }
  .slide {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    position: absolute;
    top: 0;
    left: 100%;
    transition: left 1s ease-in-out;
  }
  .slide.active {
    left: 0;
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    let slides = document.querySelectorAll('.slide');
    let index = 0;

    function showSlide() {
      slides.forEach((slide, i) => {
        slide.classList.remove('active');
        slide.style.left = '100%';
      });
      slides[index].classList.add('active');
      slides[index].style.left = '0';
      index = (index + 1) % slides.length;
    }

    setInterval(showSlide, 3000);
    showSlide();
  });
</script>
